import React, { useEffect, useState } from 'react';
import jobService from '../../services/jobService';
export default function RecruiterDashboard(){ const [jobs,setJobs]=useState([]); const [selectedJob,setSelectedJob]=useState(null); const [form,setForm]=useState({ title:'',description:'',company:'',location:''}); const [err,setErr]=useState(null); useEffect(()=>{ fetchJobs(); },[]); async function fetchJobs(){ try{ const res = await jobService.getJobs(); setJobs(res.data.data); }catch(e){ setErr('Failed to load jobs'); } } async function onCreate(e){ e.preventDefault(); try{ await jobService.createJob(form); setForm({ title:'',description:'',company:'',location:''}); fetchJobs(); }catch(e){ setErr('Failed to create job'); } } return (<div className="page-container"><h2>Recruiter — Jobs</h2>{err && <div className="alert error">{err}</div>}<form className="card form" onSubmit={onCreate}><label>Title</label><input value={form.title} onChange={e=>setForm({...form,title:e.target.value})}/><label>Company</label><input value={form.company} onChange={e=>setForm({...form,company:e.target.value})}/><label>Location</label><input value={form.location} onChange={e=>setForm({...form,location:e.target.value})}/><label>Description</label><textarea value={form.description} onChange={e=>setForm({...form,description:e.target.value})}/><div style={{marginTop:12}}><button className="btn" type="submit">Create</button></div></form><div className="list">{jobs.map(j=>(<div key={j.id} className="list-item"><div><strong>{j.title}</strong> <span className="muted">— {j.company}</span></div><div><button className="btn small" onClick={()=>console.log('edit')}>Edit</button><button className="btn small danger" onClick={()=>console.log('delete')}>Delete</button><button className="btn small" onClick={()=>console.log('applicants')}>Applicants</button></div></div>))}</div></div>); }
