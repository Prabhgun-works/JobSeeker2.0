import React, { useState } from 'react';
import authService from '../../services/authService';
export default function Register(){ const [name,setName]=useState(''); const [email,setEmail]=useState(''); const [password,setPassword]=useState(''); const [role,setRole]=useState('candidate'); const [err,setErr]=useState(null); async function onSubmit(e){ e.preventDefault(); setErr(null); try{ const res = await authService.register({ name,email,password,role }); const { token,user } = res.data.data; localStorage.setItem('token',token); localStorage.setItem('user',JSON.stringify(user)); window.location.href='/dashboard'; }catch(error){ setErr(error.response?.data?.message || 'Registration failed'); } } return (<div className="auth-container"><h2>Register</h2>{err && <div className="alert error">{err}</div>}<form onSubmit={onSubmit} className="auth-form"><label>Name</label><input value={name} onChange={e=>setName(e.target.value)}/><label>Email</label><input value={email} onChange={e=>setEmail(e.target.value)}/><label>Password</label><input type="password" value={password} onChange={e=>setPassword(e.target.value)}/><label>Role</label><select value={role} onChange={e=>setRole(e.target.value)}><option value="candidate">Candidate</option><option value="recruiter">Recruiter</option></select><button type="submit" className="btn">Register</button></form></div>); }
