import React, { useState, useContext } from 'react';
import AuthContext from '../../context/AuthContext';
export default function Login(){ const { login } = useContext(AuthContext); const [email,setEmail]=useState(''); const [password,setPassword]=useState(''); const [err,setErr]=useState(null); async function onSubmit(e){ e.preventDefault(); setErr(null); try{ await login(email,password); }catch(error){ setErr(error.response?.data?.message || 'Login failed'); } } return (<div className="auth-container"><h2>Login</h2>{err && <div className="alert error">{err}</div>}<form onSubmit={onSubmit} className="auth-form"><label>Email</label><input value={email} onChange={e=>setEmail(e.target.value)}/><label>Password</label><input type="password" value={password} onChange={e=>setPassword(e.target.value)}/><button type="submit" className="btn">Login</button><div className="muted">Don't have an account? <a href="/register">Register</a></div></form></div>); }
